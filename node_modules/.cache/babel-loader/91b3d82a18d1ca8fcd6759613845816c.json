{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eric\\\\webAppClone\\\\4353Project\\\\src\\\\Containers\\\\Fuel.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useHistory } from \"react-router-dom\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport './Fuel.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PricingModule {\n  constructor(data, gallons) {\n    this.data = data;\n    this.gallons = gallons;\n  }\n\n  suggested() {\n    var location = this.data[6] === 'TX' ? .02 : .04; //var historyFactor = history === True ? .1 : 0;\n\n    var gal = gallons >= 1000 ? .02 : .03;\n    return (location\n    /*- historyFactor*/\n    + gal + .1) * 1.5;\n  }\n\n}\n\nfunction fuelQuote(gallons, address, date, suggested, total, username) {\n  return axios.post(\"http://localhost:8080/api/auth/fuelQuote\", {\n    gallons,\n    address,\n    date,\n    suggested,\n    total,\n    username\n  });\n}\n\nfunction fuelInfo(username) {\n  return axios.post(\"http://localhost:8080/api/auth/fuelInfo\", {\n    username\n  }).then(response => {\n    if (response.data) {\n      localStorage.setItem(\"address\", response.data.address);\n    }\n\n    return response.data;\n  });\n}\n\nexport default function Fuel() {\n  _s();\n\n  const [gallons, setGallons] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  var suggested = 0;\n  var total = 0;\n  var history = useHistory();\n  var username = JSON.parse(localStorage.getItem('user')).username;\n  var data = fuelInfo(username); //user,pass,name,add1,add2,city,st,zip,new\n\n  function handleSubmit(event) {\n    fuelQuote(gallons, data[3], date, suggested, total, username);\n    alert(\"Quote Made\");\n    history.push(\"/History\");\n    window.location.reload();\n  }\n\n  function isNumber(n) {\n    return /^-?[\\d.]+(?:e-?\\d+)?$/.test(n);\n  }\n\n  function isValidDate(dateString) {\n    // First check for the pattern\n    if (!/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(dateString)) return false; // Parse the date parts to integers\n\n    var parts = dateString.split(\"/\");\n    var day = parseInt(parts[1], 10);\n    var month = parseInt(parts[0], 10);\n    var year = parseInt(parts[2], 10); // Check the ranges of month and year\n\n    if (year < 1000 || year > 3000 || month == 0 || month > 12) return false;\n    var monthLength = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; // Adjust for leap years\n\n    if (year % 400 == 0 || year % 100 != 0 && year % 4 == 0) monthLength[1] = 29; // Check the range of the day\n\n    return day > 0 && day <= monthLength[month - 1];\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Fuel\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Quote Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        size: \"lg\",\n        controlId: \"gallons\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Gallons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          autoFocus: true,\n          value: gallons,\n          onChange: e => setGallons(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your Address: \", data[3]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Delivery Address: \", data[3]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        size: \"lg\",\n        controlId: \"date\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Date (mm/dd/yyyy)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          autoFocus: true,\n          value: date,\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Suggested Price: NaN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Total Due: Nan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"quote\",\n        block: true,\n        size: \"lg\",\n        type: \"submit\",\n        disabled: !isNumber(gallons) || !isValidDate(date),\n        children: \"Get Quote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Fuel, \"h9uvKA/W2fpou/znqLq4CnWw5yk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Fuel;\n\nvar _c;\n\n$RefreshReg$(_c, \"Fuel\");","map":{"version":3,"sources":["C:/Users/Eric/webAppClone/4353Project/src/Containers/Fuel.js"],"names":["React","useState","Form","Button","useHistory","NavBar","axios","PricingModule","constructor","data","gallons","suggested","location","gal","fuelQuote","address","date","total","username","post","fuelInfo","then","response","localStorage","setItem","Fuel","setGallons","setDate","history","JSON","parse","getItem","handleSubmit","event","alert","push","window","reload","isNumber","n","test","isValidDate","dateString","parts","split","day","parseInt","month","year","monthLength","e","target","value"],"mappings":"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","sourcesContent":["ï»¿import React, {useState} from \"react\"\r\nimport Form from \"react-bootstrap/Form\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport NavBar from \"./NavBar\"\r\nimport axios from \"axios\"\r\nimport './Fuel.css'\r\nclass PricingModule {\r\n    constructor(data, gallons) {\r\n        this.data = data;\r\n        this.gallons = gallons;\r\n    }\r\n    suggested() {\r\n        var location = this.data[6] === 'TX' ? .02 : .04;\r\n        //var historyFactor = history === True ? .1 : 0;\r\n        var gal = gallons >= 1000 ? .02 : .03;\r\n        return (location /*- historyFactor*/ + gal + .1) * 1.5;\r\n    }\r\n}\r\nfunction fuelQuote(gallons, address, date, suggested, total, username) {\r\n    return axios.post(\"http://localhost:8080/api/auth/fuelQuote\", {\r\n        gallons, address, date, suggested, total, username\r\n    });\r\n}\r\nfunction fuelInfo(username) {\r\n    return axios.post(\"http://localhost:8080/api/auth/fuelInfo\", {\r\n        username\r\n    })\r\n        .then(response => {\r\n            if(response.data){\r\n                localStorage.setItem(\"address\", response.data.address)\r\n            }\r\n            return response.data\r\n        });\r\n}\r\nexport default function Fuel(){\r\n    const [gallons, setGallons] = useState(\"\")\r\n    const [date, setDate] = useState(\"\")\r\n    var suggested = 0\r\n    var total = 0\r\n    var history = useHistory();\r\n    var username = JSON.parse(localStorage.getItem('user')).username\r\n    var data = fuelInfo(username); //user,pass,name,add1,add2,city,st,zip,new\r\n    function handleSubmit(event) {\r\n        fuelQuote(gallons, data[3], date, suggested, total, username)\r\n        alert(\"Quote Made\")\r\n        history.push(\"/History\")\r\n        window.location.reload();\r\n    }\r\n    function isNumber(n) { return /^-?[\\d.]+(?:e-?\\d+)?$/.test(n); } \r\n    function isValidDate(dateString) {\r\n        // First check for the pattern\r\n        if (!/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(dateString))\r\n            return false;\r\n\r\n        // Parse the date parts to integers\r\n        var parts = dateString.split(\"/\");\r\n        var day = parseInt(parts[1], 10);\r\n        var month = parseInt(parts[0], 10);\r\n        var year = parseInt(parts[2], 10);\r\n\r\n        // Check the ranges of month and year\r\n        if (year < 1000 || year > 3000 || month == 0 || month > 12)\r\n            return false;\r\n\r\n        var monthLength = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n        // Adjust for leap years\r\n        if (year % 400 == 0 || (year % 100 != 0 && year % 4 == 0))\r\n            monthLength[1] = 29;\r\n\r\n        // Check the range of the day\r\n        return day > 0 && day <= monthLength[month - 1];\r\n    };\r\n    return (\r\n        <div className=\"Fuel\">\r\n            <NavBar/>\r\n            <h1>Quote Page</h1>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Group size=\"lg\" controlId=\"gallons\">\r\n                    <Form.Label>Gallons</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        autoFocus\r\n                        value={gallons}\r\n                        onChange={(e) => setGallons(e.target.value)}\r\n                    />\r\n                </Form.Group>\r\n                <p>Your Address: {data[3]}</p>\r\n                <p>Delivery Address: {data[3]}</p>\r\n                    <Form.Group size=\"lg\" controlId=\"date\">\r\n                        <Form.Label>Date (mm/dd/yyyy)</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            autoFocus\r\n                            value={date}\r\n                            onChange={(e) => setDate(e.target.value)}\r\n                        />\r\n                </Form.Group>\r\n                <p>Suggested Price: NaN</p>\r\n                <p>Total Due: Nan</p>\r\n                <Button className=\"quote\" block size=\"lg\" type=\"submit\" disabled={!isNumber(gallons) || !isValidDate(date)}>\r\n                    Get Quote\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}