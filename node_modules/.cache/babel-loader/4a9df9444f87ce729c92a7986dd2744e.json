{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eric\\\\webAppClone\\\\4353Project\\\\src\\\\Containers\\\\History.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getHistory() {\n  var username = JSON.parse(localStorage.getItem(\"user\")).username;\n  return axios.post(\"http://localhost:8080/api/auth/getHistory\", {\n    username\n  }).then(response => {\n    localStorage.setItem(\"formData\", JSON.stringify(response.data.data));\n    return response.data;\n  });\n}\n\nexport default function History() {\n  _s();\n\n  var refresh = false;\n  var values = JSON.parse(localStorage.getItem(\"formData\"));\n  var gallons;\n  var address;\n  var dates;\n  var prices;\n  var amountDues;\n  useEffect(() => {\n    getHistory().then(() => {\n      var values = JSON.parse(localStorage.getItem(\"formData\"));\n      alert(values[0].gallons);\n\n      if (values.gallons) {\n        gallons = values.gallons.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 29\n        }, this));\n        address = values.address.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 29\n        }, this));\n        dates = values.date.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 29\n        }, this));\n        prices = values.price.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this));\n        amountDues = values.due.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this));\n      }\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      alert(error.response.data.resMessage);\n    });\n  }, []); //values.map() basically transforms values\n  //in this case for every element in values, it returns a <tr> with index.Gallons inside the <tr>\n  //so basically gallons is an array of <tr> \n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), !values.gallons && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"No form history yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Gallons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Delivery Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Price per gallon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Amount Due\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: gallons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: dates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: prices\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: amountDues\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(History, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = History;\n\nvar _c;\n\n$RefreshReg$(_c, \"History\");","map":{"version":3,"sources":["C:/Users/Eric/webAppClone/4353Project/src/Containers/History.js"],"names":["React","useState","useEffect","NavBar","axios","getHistory","username","JSON","parse","localStorage","getItem","post","then","response","setItem","stringify","data","History","refresh","values","gallons","address","dates","prices","amountDues","alert","map","index","date","price","due","error","resMessage","message","toString"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport NavBar from \"./NavBar\"\r\nimport axios from \"axios\"\r\n\r\n\r\nfunction getHistory(){\r\n    var username = JSON.parse(localStorage.getItem(\"user\")).username\r\n    return axios\r\n        .post(\"http://localhost:8080/api/auth/getHistory\", {\r\n            username     \r\n        })\r\n        .then(response => {\r\n                localStorage.setItem(\"formData\", JSON.stringify(response.data.data))\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport default function History(){\r\n    var refresh = false;\r\n    var values = JSON.parse(localStorage.getItem(\"formData\"))\r\n    var gallons;\r\n    var address;\r\n    var dates;\r\n    var prices;\r\n    var amountDues;\r\n\r\n    useEffect(() => {\r\n        getHistory().then(\r\n                () => { \r\n                    var values = JSON.parse(localStorage.getItem(\"formData\"))\r\n                    alert(values[0].gallons)\r\n                    if(values.gallons){\r\n                        gallons = values.gallons.map((index) =>(\r\n                            <tr>{index}</tr>\r\n                        ))\r\n                        address = values.address.map((index) =>(\r\n                            <tr>{index}</tr>\r\n                        ))\r\n                        dates = values.date.map((index) =>(\r\n                            <tr>{index}</tr>\r\n                        ))\r\n                        prices = values.price.map((index) =>(\r\n                            <tr>{index}</tr>\r\n                        ))\r\n                        amountDues = values.due.map((index) =>(\r\n                            <tr>{index}</tr>\r\n                        ))\r\n                        }\r\n                },\r\n                error => {\r\n\r\n                    const resMessage = (\r\n                        error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.message) ||\r\n                        error.message ||\r\n                        error.toString()\r\n\r\n                    alert(error.response.data.resMessage)\r\n            })\r\n    },[]);\r\n        \r\n    \r\n\r\n    //values.map() basically transforms values\r\n    //in this case for every element in values, it returns a <tr> with index.Gallons inside the <tr>\r\n    //so basically gallons is an array of <tr> \r\n    return(\r\n        <div className=\"Login\">\r\n            <NavBar />\r\n            {!values.gallons && <h2>No form history yet</h2>}\r\n            <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>Gallons</td>\r\n                        <td>Address</td>\r\n                        <td>Delivery Date</td>\r\n                        <td>Price per gallon</td>\r\n                        <td>Amount Due</td>\r\n                    </tr>\r\n                    <td>{gallons}</td>\r\n                    <td>{address}</td>\r\n                    <td>{dates}</td>\r\n                    <td>{prices}</td>\r\n                    <td>{amountDues}</td>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}