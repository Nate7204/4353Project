{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eric\\\\webAppClone\\\\4353Project\\\\src\\\\Containers\\\\History.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getHistory() {\n  var username = JSON.parse(localStorage.getItem(\"user\")).username;\n  return axios.post(\"http://localhost:8080/api/auth/getHistory\", {\n    username\n  }).then(response => {\n    localStorage.setItem(\"formData\", JSON.stringify(response.data.data));\n    return response.data;\n  });\n}\n\nfunction fuelInfo() {\n  var username = JSON.parse(localStorage.getItem(\"user\")).username;\n  return axios.post(\"http://localhost:8080/api/auth/fuelInfo\", {\n    username\n  }).then(response => {\n    if (response.data) {\n      localStorage.setItem(\"address\", response.data.address);\n    }\n\n    return response.data;\n  });\n}\n\nexport default function History() {\n  _s();\n\n  var [values, setValues] = useState([]);\n  var [gallons, setGallons] = useState();\n  var [address, setAddress] = useState();\n  var [dates, setDates] = useState();\n  var [prices, setPrices] = useState();\n  var [amountDues, setAmountDues] = useState();\n  useEffect(() => {\n    fuelInfo().then(() => {\n      setAddress(localStorage.getItem(\"address\"));\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      alert(error.response.data.resMessage);\n    });\n\n    const afunct = async () => {\n      getHistory().then(() => {\n        setValues(JSON.parse(localStorage.getItem(\"formData\")));\n        var gallons1 = values.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index.gallons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this));\n        var dates1 = values.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index.date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this));\n        var prices1 = values.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index.suggested\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this));\n        var amountDues1 = values.map(index => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: index.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this));\n        alert(JSON.stringify(values));\n        setGallons(gallons1);\n        setDates(dates1);\n        setPrices(prices1);\n        setAmountDues(amountDues1);\n        alert(JSON.stringify(gallons));\n        alert(JSON.stringify(gallons1));\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        alert(error.response.data.resMessage);\n      });\n    };\n\n    afunct();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), !gallons && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"No history yet!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Gallons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Delivery Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Price per gallon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Amount Due\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: gallons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: dates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: prices\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: amountDues\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n\n_s(History, \"TWtaPEVORv+6qOLG9RGE7fFgQt0=\");\n\n_c = History;\n\nvar _c;\n\n$RefreshReg$(_c, \"History\");","map":{"version":3,"sources":["C:/Users/Eric/webAppClone/4353Project/src/Containers/History.js"],"names":["React","useState","useEffect","NavBar","axios","getHistory","username","JSON","parse","localStorage","getItem","post","then","response","setItem","stringify","data","fuelInfo","address","History","values","setValues","gallons","setGallons","setAddress","dates","setDates","prices","setPrices","amountDues","setAmountDues","error","resMessage","message","toString","alert","afunct","gallons1","map","index","dates1","date","prices1","suggested","amountDues1","total"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport NavBar from \"./NavBar\"\r\nimport axios from \"axios\"\r\n\r\n\r\nfunction getHistory(){\r\n    var username = JSON.parse(localStorage.getItem(\"user\")).username\r\n    return axios\r\n        .post(\"http://localhost:8080/api/auth/getHistory\", {\r\n            username     \r\n        })\r\n        .then(response => {\r\n                localStorage.setItem(\"formData\", JSON.stringify(response.data.data))\r\n            return response.data\r\n        })\r\n}\r\n\r\nfunction fuelInfo() {\r\n    var username = JSON.parse(localStorage.getItem(\"user\")).username\r\n    return axios.post(\"http://localhost:8080/api/auth/fuelInfo\", {\r\n        username\r\n    })\r\n        .then(response => {\r\n            if(response.data){\r\n                localStorage.setItem(\"address\", response.data.address)\r\n            }\r\n            return response.data\r\n        });\r\n}\r\n\r\nexport default function History(){\r\n    var [values, setValues] = useState([])\r\n    var [gallons, setGallons] = useState();\r\n    var [address, setAddress] = useState();\r\n    var [dates, setDates] = useState();\r\n    var [prices, setPrices] = useState();\r\n    var [amountDues, setAmountDues] = useState();\r\n\r\n    useEffect(() => {\r\n        fuelInfo().then(\r\n            () => { \r\n                setAddress(localStorage.getItem(\"address\"))\r\n            },\r\n            error => {\r\n                const resMessage = (\r\n                    error.response &&\r\n                    error.response.data &&\r\n                    error.response.data.message) ||\r\n                    error.message ||\r\n                    error.toString()\r\n\r\n                alert(error.response.data.resMessage)\r\n        })\r\n\r\n        const afunct = async() =>{\r\n            getHistory().then(\r\n                () => { \r\n                    setValues(JSON.parse(localStorage.getItem(\"formData\")))\r\n                    var gallons1 = values.map((index) =>(\r\n                        <tr>{index.gallons}</tr>\r\n                    ))\r\n                    var dates1 = values.map((index) =>(\r\n                        <tr>{index.date}</tr>\r\n                    ))\r\n                    var prices1 = values.map((index) =>(\r\n                        <tr>{index.suggested}</tr>\r\n                    ))\r\n                    var amountDues1 = values.map((index) =>(\r\n                        <tr>{index.total}</tr>\r\n                    ))\r\n                    alert(JSON.stringify(values))\r\n                    setGallons(gallons1)\r\n                    setDates(dates1)\r\n                    setPrices(prices1)\r\n                    setAmountDues(amountDues1)\r\n                    alert(JSON.stringify(gallons))\r\n                    alert(JSON.stringify(gallons1))\r\n                },\r\n                error => {\r\n\r\n                    const resMessage = (\r\n                        error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.message) ||\r\n                        error.message ||\r\n                        error.toString()\r\n\r\n                    alert(error.response.data.resMessage)\r\n            })\r\n        }\r\n        afunct();\r\n    },[]);\r\n    return(\r\n        <div className=\"Login\">\r\n            <NavBar />\r\n            {!gallons && <h2>No history yet!</h2>}\r\n            <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>Gallons</td>\r\n                        <td>Address</td>\r\n                        <td>Delivery Date</td>\r\n                        <td>Price per gallon</td>\r\n                        <td>Amount Due</td>\r\n                    </tr>\r\n                    <td>{gallons}</td>\r\n                    <td>{address}</td>\r\n                    <td>{dates}</td>\r\n                    <td>{prices}</td>\r\n                    <td>{amountDues}</td>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}